<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bns:Component xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bns="http://api.platform.boomi.com/" folderFullPath="//zCustomer/SercoASPAC/Serco 500 to 502/[api - MCS Ping]" componentId="404432da-319f-45ed-836d-ec5d33d35e8d" version="27" name="[impl] - GET ping" type="process" createdDate="2025-04-16T06:56:44Z" createdBy="chris.tribe@boomi.com" modifiedDate="2025-07-08T07:13:32Z" modifiedBy="peterantony@boomi.com" deleted="false" currentVersion="true" folderName="[api - MCS Ping]" folderId="Rjo3NTc2NTQ5" branchName="main" branchId="Qjo0NjgxMw">
  <bns:encryptedValues/>
  <bns:description/>
  <bns:object>
    <process xmlns="" allowSimultaneous="false" enableUserLog="false" processLogOnErrorOnly="false" purgeDataImmediately="false" updateRunDates="false" workload="general">
      <shapes>
        <shape image="start" name="shape1" shapetype="start" userlabel="" x="48.0" y="46.0">
          <configuration>
            <passthroughaction/>
          </configuration>
          <dragpoints>
            <dragpoint name="shape1.dragpoint1" toShape="shape2" x="224.0" y="56.0"/>
          </dragpoints>
        </shape>
        <shape image="decision_icon" name="shape2" shapetype="decision" userlabel="is Error?" x="240.0" y="48.0">
          <configuration>
            <decision comparison="equals" name="is Error?">
              <decisionvalue valueType="process">
                <processparameter processproperty="query_error" processpropertydefaultvalue=""/>
              </decisionvalue>
              <decisionvalue valueType="static">
                <staticparameter staticproperty="true"/>
              </decisionvalue>
            </decision>
          </configuration>
          <dragpoints>
            <dragpoint identifier="true" name="shape2.dragpoint1" text="True" toShape="shape20" x="416.0" y="56.0"/>
            <dragpoint identifier="false" name="shape2.dragpoint2" text="False" toShape="shape3" x="416.0" y="216.0"/>
          </dragpoints>
        </shape>
        <shape image="message_icon" name="shape3" shapetype="message" userlabel="Success Message" x="432.0" y="208.0">
          <configuration>
            <message combined="false">
              <msgTxt>'{"response" :  "Ping from node - '{2}' - '{1}'"}'</msgTxt>
              <msgParameters>
                <parametervalue key="0" valueType="execution">
                  <executionparameter executionproperty="Node Id"/>
                </parametervalue>
                <parametervalue key="1" valueType="execution">
                  <executionparameter executionproperty="Atom Name"/>
                </parametervalue>
              </msgParameters>
            </message>
          </configuration>
          <dragpoints>
            <dragpoint name="shape3.dragpoint1" toShape="shape28" x="608.0" y="216.0"/>
          </dragpoints>
        </shape>
        <shape image="message_icon" name="shape5" shapetype="message" userlabel="Fail Message" x="48.0" y="527.0">
          <configuration>
            <message combined="false">
              <msgTxt>[EXCEPTION] ODATA Execution Error Code: ODataClientException com.successfactors.odata.ODataClientException: Error: Could not retrieve external oauth token due to Failure to get external oauth token due to: Failure to get external oauth token due to: Service Unavailable https://api2preview.sapsf.eu/odata/v2/Candidate?
{1}
{2}
{3}</msgTxt>
              <msgParameters>
                <parametervalue key="0" valueType="execution">
                  <executionparameter executionproperty="Node Id"/>
                </parametervalue>
                <parametervalue key="1" valueType="execution">
                  <executionparameter executionproperty="Atom Name"/>
                </parametervalue>
                <parametervalue key="2" valueType="track">
                  <trackparameter defaultValue="" propertyId="dynamicdocument.query_error" propertyName="Dynamic Document Property - query_error"/>
                </parametervalue>
              </msgParameters>
            </message>
          </configuration>
          <dragpoints>
            <dragpoint name="shape5.dragpoint1" toShape="unset" x="224.0" y="538.0"/>
          </dragpoints>
        </shape>
        <shape image="returndocuments_icon" name="shape6" shapetype="returndocuments" userlabel="" x="1200.0" y="48.0">
          <configuration>
            <returndocuments label=""/>
          </configuration>
          <dragpoints/>
        </shape>
        <shape image="documentproperties_icon" name="shape7" shapetype="documentproperties" userlabel="outstatuscode" x="48.0" y="687.0">
          <configuration>
            <documentproperties>
              <documentproperty defaultValue="" isDynamicCredential="false" isTradingPartner="false" name="Dynamic Document Property - outstatuscode" persist="false" propertyId="dynamicdocument.outstatuscode" shouldEncrypt="false">
                <sourcevalues>
                  <parametervalue key="1" valueType="static">
                    <staticparameter staticproperty="500"/>
                  </parametervalue>
                </sourcevalues>
              </documentproperty>
            </documentproperties>
          </configuration>
          <dragpoints>
            <dragpoint name="shape7.dragpoint1" toShape="unset" x="224.0" y="698.0"/>
          </dragpoints>
        </shape>
        <shape image="exception_icon" name="shape8" shapetype="exception" userlabel="" x="48.0" y="847.0">
          <configuration>
            <exception stopProcessReturnSingleDoc="false" stopsingledoc="true" title="">
              <exMessage>[EXCEPTION] ODATA Execution Error Code: ODataClientException com.successfactors.odata.ODataClientException: Error: Could not retrieve external oauth token due to Failure to get external oauth token due to: Failure to get external oauth token due to: Service Unavailable https://api2preview.sapsf.eu/odata/v2/Candidate?</exMessage>
              <exParameters/>
            </exception>
          </configuration>
          <dragpoints/>
        </shape>
        <shape image="connectoraction_icon" name="shape9" shapetype="connectoraction" userlabel="" x="48.0" y="1007.0">
          <configuration>
            <connectoraction actionType="Get" allowDynamicCredentials="NONE" connectionId="8a25704c-0c44-469d-85db-41f5559928ca" connectorType="http" hideSettings="false" operationId="fd267944-3802-4d76-b06f-fc4b6cb3e3fe" parameter-profile="EMBEDDED|HttpParameterChooser|fd267944-3802-4d76-b06f-fc4b6cb3e3fe">
              <parameters/>
              <dynamicProperties/>
            </connectoraction>
          </configuration>
          <dragpoints>
            <dragpoint name="shape9.dragpoint1" toShape="unset" x="224.0" y="1018.0"/>
          </dragpoints>
        </shape>
        <shape image="dataprocess_icon" name="shape13" shapetype="dataprocess" userlabel="log Properties" x="1008.0" y="48.0">
          <configuration>
            <dataprocess>
              <step index="1" key="1" name="Custom Scripting" processtype="12">
                <dataprocessscript language="groovy">
                  <script>// Debug script that dumps the current Document and Process Properties to a document.

import com.boomi.execution.ExecutionManager;
import com.boomi.execution.ExecutionUtil; 

def logger = ExecutionUtil.getBaseLogger() 
logger.info("# # # E Y E   C A T C H E R  # # #")    

NEWLINE = System.getProperty("line.separator");
StringBuilder sb = new StringBuilder();

// Get all process properties
execProps = ExecutionManager.getCurrent().getProperties();
sb.append("PROCESS PROPERTIES: " + NEWLINE);
formatProps(sb, execProps);
sb.append(NEWLINE);
outputDocProps = null;
if(ExecutionManager.getCurrent().getParent() != null){
  executionID = ExecutionManager.getCurrent().getTopLevelExecutionId();
  processName = ExecutionManager.getCurrent().getParent().getProcessName();
  processID = ExecutionManager.getCurrent().getParent().getProcessId();
  sb.append("PROCESS EXECUTION: " + NEWLINE);
  sb.append("EXECUTIONID: " + executionID + NEWLINE);
  sb.append("PROCESSNAME: " + processName + NEWLINE);
  sb.append("PROCESSID: " + processID + NEWLINE);
}


for( int i = 0; i &lt; dataContext.getDataCount(); i++ ) {
  InputStream is = dataContext.getStream(i);
  Properties props = dataContext.getProperties(i);

  if (i==0) outputDocProps = props;
    sb.append("DOCUMENT " + i + " PROPERTIES: " + NEWLINE);

 formatProps(sb, props);
 sb.append(NEWLINE);
}

logger.info(sb.toString());

// Output single document with props
is = new ByteArrayInputStream(sb.toString().getBytes());



dataContext.storeStream(is, outputDocProps);

def formatProps(sb, props) {

  def logger = ExecutionUtil.getBaseLogger() 

  for (k in props.keySet()) {
    sb.append(k + "=" + props.get(k) + NEWLINE);
     // added by Chris Tribe
     //logger.info(k + "=" +  props.get(k))    

  }
}</script>
                </dataprocessscript>
              </step>
            </dataprocess>
          </configuration>
          <dragpoints>
            <dragpoint name="shape13.dragpoint1" toShape="shape6" x="1184.0" y="56.0"/>
          </dragpoints>
        </shape>
        <shape image="connectoraction_icon" name="shape18" shapetype="connectoraction" userlabel="" x="624.0" y="48.0">
          <configuration>
            <connectoraction actionType="QUERY" allowDynamicCredentials="NONE" connectionId="0356bbfd-ea34-43cd-8a3b-bf7a8a1bc3b3" connectorType="successfactorsmaster-Q2Q93V-SFSF-priv_prod" hideSettings="false" operationId="5b6f7b2b-ef8f-4830-a03d-6fe4cca9c1f3" parameter-profile="EMBEDDED|genericparameterchooser|5b6f7b2b-ef8f-4830-a03d-6fe4cca9c1f3">
              <parameters/>
              <dynamicProperties/>
            </connectoraction>
          </configuration>
          <dragpoints>
            <dragpoint name="shape18.dragpoint1" toShape="shape19" x="800.0" y="56.0"/>
          </dragpoints>
        </shape>
        <shape image="message_icon" name="shape19" shapetype="message" userlabel="" x="816.0" y="48.0">
          <configuration>
            <message combined="false">
              <msgTxt>&lt;test&gt;test&lt;/test&gt;</msgTxt>
              <msgParameters/>
            </message>
          </configuration>
          <dragpoints>
            <dragpoint name="shape19.dragpoint1" toShape="shape13" x="992.0" y="56.0"/>
          </dragpoints>
        </shape>
        <shape image="notify_icon" name="shape20" shapetype="notify" userlabel="is Error" x="432.0" y="48.0">
          <configuration>
            <notify disableEvent="true" enableUserLog="false" perExecution="false" title="ERROR">
              <notifyMessage>ERROR </notifyMessage>
              <notifyMessageLevel>INFO</notifyMessageLevel>
              <notifyParameters/>
            </notify>
          </configuration>
          <dragpoints>
            <dragpoint name="shape20.dragpoint1" toShape="shape18" x="608.0" y="56.0"/>
          </dragpoints>
        </shape>
        <shape image="connectoraction_icon" name="shape21" shapetype="connectoraction" userlabel="" x="48.0" y="1167.0">
          <configuration>
            <connectoraction actionType="Get" allowDynamicCredentials="NONE" connectionId="2d8dd43f-6d48-4b77-b285-599945052432" connectorType="http" hideSettings="false" operationId="29b3d2be-ff54-44b5-9082-ae88a4613dfc" parameter-profile="EMBEDDED|HttpParameterChooser|29b3d2be-ff54-44b5-9082-ae88a4613dfc">
              <parameters/>
              <dynamicProperties/>
            </connectoraction>
          </configuration>
          <dragpoints>
            <dragpoint name="shape21.dragpoint1" toShape="unset" x="224.0" y="1338.0"/>
          </dragpoints>
        </shape>
        <shape image="connectoraction_icon" name="shape22" shapetype="connectoraction" userlabel="" x="48.0" y="1327.0">
          <configuration>
            <connectoraction actionType="GET" allowDynamicCredentials="NONE" connectionId="6a139667-f60e-4742-a275-238a39832d11" connectorType="officialboomi-X3979C-dbv2da-prod" hideSettings="false" operationId="2af3f944-60e1-4b88-b96b-c84fe8bd0a18" parameter-profile="fea47f5f-9c05-46ec-806c-c70e8209de92">
              <parameters/>
              <dynamicProperties/>
            </connectoraction>
          </configuration>
          <dragpoints>
            <dragpoint name="shape22.dragpoint1" toShape="unset" x="224.0" y="1498.0"/>
          </dragpoints>
        </shape>
        <shape image="branch_icon" name="shape28" shapetype="branch" userlabel="" x="624.0" y="208.0">
          <configuration>
            <branch numBranches="2"/>
          </configuration>
          <dragpoints>
            <dragpoint identifier="1" name="shape28.dragpoint1" text="1" toShape="unset" x="800.0" y="198.0"/>
            <dragpoint identifier="2" name="shape28.dragpoint2" text="2" toShape="shape32" x="800.0" y="376.0"/>
          </dragpoints>
        </shape>
        <shape image="returndocuments_icon" name="shape31" shapetype="returndocuments" x="1008.0" y="367.0">
          <configuration>
            <returndocuments/>
          </configuration>
          <dragpoints/>
        </shape>
        <shape image="message_icon" name="shape32" shapetype="message" userlabel="Response" x="816.0" y="367.0">
          <configuration>
            <message combined="false">
              <msgTxt>'{"response" :  "Ping from node - '{2}' - '{1}'"}'</msgTxt>
              <msgParameters>
                <parametervalue key="0" valueType="execution">
                  <executionparameter executionproperty="Node Id"/>
                </parametervalue>
                <parametervalue key="1" valueType="execution">
                  <executionparameter executionproperty="Atom Name"/>
                </parametervalue>
              </msgParameters>
            </message>
          </configuration>
          <dragpoints>
            <dragpoint name="shape32.dragpoint1" toShape="shape31" x="992.0" y="376.0"/>
          </dragpoints>
        </shape>
      </shapes>
    </process>
  </bns:object>
  <bns:processOverrides/>
</bns:Component>
